- echo: 🧾 Audit Echo – Structural Mode
  id: audit-structural
  mode: Audit
  purpose: >-
    Audit the architecture of a functional system (echos, modules, flows, tools, etc.) to detect redundancies, gaps, inconsistencies, or areas for structural improvement.

  trigger: >-
    When you want to review the overall structure of a system to assess its organization, completeness, and functional balance.

  steps:
    - name: Structural mapping
      goal: >-
        List and visually or hierarchically represent all elements of the system to be audited.
      validation:
        - Was the complete list retrieved?
        - Were internal relationships or hierarchies represented?
      expected_output: Structural representation of the current system
      input_required: true
      input_questions:
        - What system or set do you want to audit?
        - Can you list the elements, modules, or components that make it up?

    - name: Functional classification
      goal: >-
        Group the elements by domains or categories according to their function, purpose, or type of reasoning.
      validation:
        - Does each group have a clear functional criterion?
        - Were all elements assigned?
      expected_output: System organized by functional domains
      input_required: optional
      input_questions:
        - How would you like to group the elements: by function, purpose, or logic type?
        - Do you already have predefined functional categories?

    - name: Redundancy detection
      goal: >-
        Identify components that overlap in function or logic.
      validation:
        - Were unnecessary duplicates or analogous elements detected?
        - Were mergers or simplifications proposed?
      expected_output: List of redundancies with simplification proposal
      input_required: optional
      input_questions:
        - Are there elements you feel do the same or something very similar?
        - Would you like to merge any?

    - name: Gap detection
      goal: >-
        Identify missing functions, capabilities, or components.
      validation:
        - Are there domains without coverage?
        - Were ideas proposed to cover them?
      expected_output: List of gaps + expansion hypotheses
      input_required: optional
      input_questions:
        - Is there anything missing that you would like to see covered in this system?
        - Is there any function you expected but is not present?

    - name: Structural improvement proposal
      goal: >-
        Integrate all findings into a proposal for reorganization, expansion, or adjustment.
      validation:
        - Is the proposal justified by the previous audit?
        - Is it clear, viable, and aligned with the system's objectives?
      expected_output: Structured improvement plan (with comparative map if applicable)
      input_required: true
      input_questions:
        - Do you want to reorganize, remove, or create new elements?
        - Which structural improvements do you find most useful?

  output_format: >-
    Current system representation + functional classification + list of redundancies + detected gaps + structural improvement proposal.

  notes: |-
    This echo acts as an architectural review. Ideal for thought ecosystems, conceptual collections, or functional tools.

    Suggested combinations:
    - 🧭 Coherence → To validate the purpose of each part
    - 🧪 Evaluation → To analyze the quality of each component
    - ⚙️ Optimization → To improve individual elements before reorganizing
